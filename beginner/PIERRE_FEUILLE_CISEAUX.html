<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Javascript - Tainix</title>
	</head>
	<body>
		<div>
			<p>
				<strong>Code du challenge : </strong
				><span id="engine-code"></span>
			</p>
			<p><strong>Data : </strong><span id="game-data"></span></p>
			<p><strong>Message : </strong><span id="message">...</span></p>
		</div>

		<script src="../game.js"></script>
		<script>
			// Ta key
			const playerKey = "13c0de90ddc0c254f072d495f2f8c5cb3672449b";
			// Le code du challenge
			const engineCode = "PIERRE_FEUILLE_CISEAUX";

			async function main() {
				if (playerKey.length === 0 || engineCode.length === 0) {
					return;
				}

				game = new Game(playerKey, engineCode);
				await game.start();

				// Data de jeu
				console.log(game.gameData);

				// ------------------ CODE DU CHALLENGE ------------------

				// Ta rÃ©ponse
				let playerResponse = "";
				let coups = game.gameData.coups;
				let nbCoups = coups.length;

				const associations = {
					F: "C",
					C: "P",
					P: "F",
				};

				for (i = 0; i < nbCoups; i++) {
					playerResponse += associations[coups.charAt(i)];
				}

				// -------------------------------------------------------

				// Pour repondre au challenge
				game.output({ data: playerResponse });
			}

			main();
		</script>
	</body>
</html>
